<!-- fabric-texture-upload-button.html -->


<li style="margin:10px -18px;list-style-type:square;">Fabric Upload Form:</li>
<div id="fabric-texture-upload-button" class="form-control btn btn-danger btn-white-outline gradient-btn">Open fabric upload form</div>


<script>

//  fabric-texture-upload-button.html

    var fabricTextureUploadButtonSelector = "#fabric-texture-upload-button";

    $(fabricTextureUploadButtonSelector)[0].uploadOptions = {
        name    : null,      // outfit asset name.
        editor  : "texture", // editor name.
        index   : 0,         // material index.
        maps    : ["map"],
        kind    : "texture",
        type    : "map",
        outfit  : null,      // [ outfit names ] (array)
        category: "fabric",  // [ category names ] (array)
        tags    : ["fabric", "texture"],
        gender  : ["male", "female"],
        clientid: "95e1ecaf14ca5e6",               // imgur clientid.
        endpoint: "https://api.imgur.com/3/image", // imgur endpoint.
        method: "POST",
        snapshotEndpoint: "/snapshots/insert",  // post url (mongodb collection).
        texturesEndpoint : "/textures/insert",  // post url (mongodb collection).
        collection: "textures",                 // zargodb collection.
        scrOnly: false, //  replace sourceFiles only.
    };


//  Define button holder.
    $(fabricTextureUploadButtonSelector).on("click", function (){
        if ( !$EditorPanel.active ){
            editorHolderButton = this;
        } else {
            editorHolderButton = undefined;
        }
    });

//  Define upload target.
/*
//  Target will defined at image input.
    $(fabricTextureUploadButtonSelector).on("click", function (){
        if ( !$EditorPanel.active ){
            target = (some canvas) // must be canvas.
        } else {
            target = undefined;
        }
    });
*/

//  Import dialog form component and apply dialog option.
    $(fabricTextureUploadButtonSelector).on("click", function(){

        if ( !$EditorPanel.active ) {

            var option = {
                width: 420,
                minWidth: 420,
                maxWidth: 420,
                height: 650,
                minHeight: 650,
                maxHeight: 650,
                title: "Fabric Upload Form",
            }

            var component = "fabric-texture-upload-form.html";
            $EditorPanel.loadComponent(component, option);
        }

    });

//  Open/Close dialog.
    $(fabricTextureUploadButtonSelector).on("click", function(){
        if ( !$EditorPanel.active ) {
            $EditorPanel.dialog("open");
        } else {
            $EditorPanel.dialog("close");
        }
    });

</script>


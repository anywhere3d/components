<style>
    .spinner-helper { display:inline-block; height:100%; vertical-align:middle; }
    .spinner-img { height:50px; vertical-align:middle; }
</style>

<!-- div id="outfit-body-female-skin-col" class="col-md-6 col-panel" style="height:auto;" -->

<h4>Select female skintone:</h4>

<a id="skin-map-fmSkinLight" name="fmSkinLight" class="nav-link btn btn-default btn-white-outline skin-texture-btn" 
style="width:79px; height:79px; background-image: url('https://i.imgur.com/ave16Ar.png'); background-size: contain; 
background-position:50% 50%; background-repeat:no-repeat;" title="Light"></a>

<a id="skin-map-fmSkinMedium" name="fmSkinMedium" class="nav-link btn btn-default btn-white-outline skin-texture-btn" 
style="width:79px; height:79px; background-image: url('https://i.imgur.com/ZCDSoYd.png'); background-size: contain; 
background-position:50% 50%; background-repeat:no-repeat;" title="Medium"></a>

<a id="skin-map-fmSkinDark" name="fmSkinDark" class="nav-link btn btn-default btn-white-outline skin-texture-btn" 
style="width:79px; height:79px; background-image: url('https://i.imgur.com/ave16Ar.png'); background-size: contain; 
background-position:50% 50%; background-repeat:no-repeat;" title="Dark"></a>

<!-- /div -->



<script>

//    "https://i.imgur.com/KnQCq4M.jpg",
//    "https://i.imgur.com/DXbHJ7l.jpg",
//    "https://i.imgur.com/8wAe1Wa.jpg",
//    "https://i.imgur.com/SEmpQHf.jpg",
//    "https://i.imgur.com/PHnvcW7.jpg",
//    "https://i.imgur.com/gkctdhQ.jpg",

</script>


<script>

    var debugMode;

    var spinner = '<span class="spin spinner-helper"></span>'
    + '<img class="spin spinner-img" src="/img/load.gif">';

    var fmSkinLightSelector  = "#skin-map-fmSkinLight";
    var fmSkinMediumSelector = "#skin-map-fmSkinMedium";
    var fmSkinDarkSelector   = "#skin-map-fmSkinDark";

    $(fmSkinLightSelector).one("click", oneClickfmSkinLight);

    function oneClickfmSkinLight(){
        var self = this;

        $(this).append( spinner );

        textureSkinLoader({
            id    : "KnQCq4M",
            ext   : "jpg",
            map   : "emissiveMap",
            name  : "FM_Skin_Light",
            index : 0,
            target: Avatars[ "fmBody" ],
            callback: function(){
                $(".spin").remove();
                $(self).one("click", oneClickfmSkinLight);
                debugMode && console.log("oneClickfmSkinLight");
            }
        });
    }


    $(fmSkinMediumSelector).one("click", oneClickfmSkinMedium);

    function oneClickfmSkinMedium(){
        var self = this;

        $(this).append( spinner );

        textureSkinLoader({
            id    : "DXbHJ7l",
            ext   : "jpg",
            map   : "emissiveMap",
            name  : "FM_Skin_Mid",
            index : 0,
            target: Avatars[ "fmBody" ],
            callback: function(){
                $(".spin").remove();
                $(self).one("click", oneClickfmSkinMedium);
                debugMode && console.log("oneClickfmSkinMedium");
            }
        });
    }


    $(fmSkinDarkSelector).one("click", oneClickfmSkinDark);

    function oneClickfmSkinDark(){
        var self = this;

        $(this).append( spinner );

        textureSkinLoader({
            id    : "8wAe1Wa",
            ext   : "jpg",
            map   : "emissiveMap",
            name  : "FM_Skin_Dark",
            index : 0,
            target: Avatars[ "fmBody" ],
            callback: function(){
                $(".spin").remove();
                $(self).one("click", oneClickfmSkinDark);
                debugMode && console.log("oneClickfmSkinDark");
            }
        });
    }

    function textureSkinLoader( options, callback ){

        var dot   = ".";
        var host  = "https://i.imgur.com/";
        var url   = host + options.id + dot + options.ext;
        var map   = options.map;
        var name  = options.name;
        var index = options.index;
        var asset = options.target;

        var img = new Image();
        img.crossOrigin = "anonymous";
        $(img).one("load", function (){
            var texture = new THREE.Texture( img ); // or canvas //
            texture.name = name;
            texture.sourceFile = url;
            applyTexture( asset, texture, map, index );
            $(img).remove();
            options.callback();
        });

        img.src = url;
    }

</script>

<script>
/*
    $(fmSkinLightSelector).on("click", function(){
        textureMapLoader({
            url   : "https://i.imgur.com/KnQCq4M.jpg",
            map   : "emissiveMap",
            name  : "FM_Skin_Light",
            index : 0,
            asset : Avatars[ "fmBody" ],
        });
    });


    $(fmSkinMediumSelector).on("click", function(){
        textureMapLoader({
            url   : "https://i.imgur.com/DXbHJ7l.jpg",
            map   : "emissiveMap",
            name  : "FM_Skin_Mid",
            index : 0,
            asset : Avatars[ "fmBody" ],
        });
    });


    $(fmSkinDarkSelector).on("click", function(){
        textureMapLoader({
            url   : "https://i.imgur.com/8wAe1Wa.jpg",
            map   : "emissiveMap",
            name  : "FM_Skin_Dark",
            index : 0,
            asset : Avatars[ "fmBody" ],
        });
    });
*/
</script>
